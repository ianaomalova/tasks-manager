<div class="max-w-7xl mx-auto mb-6">
  <!-- Search Bar -->
  <div class="mt-5 max-w-md mx-auto">
    <div class="relative w-[80%] mx-auto">
      <input
        #searchInput
        (input)='search(searchInput.value)'
        type="text"
        placeholder="Поиск иконок..."
        class="block w-full pl-10 pr-3 py-2 border border-slate-300 rounded-xl shadow-sm focus:outline-none focus:ring-1 focus:ring-purple-200 focus:border-transparent bg-white/70 dark:bg-white backdrop-blur-sm"
      />
      <div class="absolute left-3 top-1/2 transform -translate-y-1/2 pointer-events-none">
        <lucide-icon [img]="Search" class="h-5 w-5 text-slate-400"></lucide-icon>
      </div>
    </div>
  </div>
</div>

<!-- Icons Grid -->
<div class="max-w-7xl mx-auto">
  @for (category of filteredIcons; track category.categoryKey) {
    <h3 class='text-lg text-center font-bold text-slate-800 mb-2'>{{ category.categoryName }}</h3>
    <div class='flex items-center flex-wrap justify-center gap-3 mb-8'>
      @for (iconEntry of category.icons; track iconEntry.name) {
        <div
          class='w-9 h-9 bg-purple-100 flex items-center justify-center rounded-2xl cursor-pointer hover:from-pink-200 hover:to-purple-300 hover:shadow-lg hover:scale-110 hover:-translate-y-1
         transition-all duration-300 ease-out'
          (click)='selectIcon(iconEntry.name)'
        >
          <lucide-icon [img]="iconEntry.icon" size="20" strokeWidth='2'></lucide-icon>
        </div>
      }
    </div>
  }

  <!-- No Results -->
@if(filteredIcons.length === 0) {
  <div class="text-center py-16">
    <div class="max-w-sm mx-auto">
      <div class="mb-4">
        <lucide-icon name="search-x" class="h-16 w-16 text-slate-400 mx-auto"></lucide-icon>
      </div>
      <h3 class="text-lg font-medium text-slate-600 mb-2">
        Иконки не найдены
      </h3>
      <p class="text-slate-500">
        Попробуйте изменить запрос поиска
      </p>
    </div>
  </div>
}
</div>
